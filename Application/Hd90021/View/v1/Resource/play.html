<layout name="layout" />


<script type="text/javascript">

var mp = new MediaPlayer();
var vas_small_player_id = mp.getNativePlayerInstanceID();

function playVideo(videoUrl,width,height,left,top) {
	  if (videoUrl == "") {
	        return;
	  }
	  var jsonstr = '[{mediaUrl:"' + videoUrl + '",';
	  jsonstr +=  'mediaCode: "jsoncode1",';//字符串媒体的唯一标示-武
	  jsonstr +=  'mediaType:2,';
	  jsonstr +=  'audioType:1,';
	  jsonstr +=  'videoType:1,';
	  jsonstr +=  'streamType:1,';
	  jsonstr +=  'drmType:1,';
	  jsonstr +=  'fingerPrint:0,';
	  jsonstr +=  'copyProtection:1,';
	  jsonstr +=  'allowTrickmode:1,';
	  jsonstr +=  'startTime:0,';
	  jsonstr +=  'endTime:20000.3,';
	  jsonstr +=  'entryID:"jsonentry1"}]';//可能出问题-武-只有在加入播放列表时媒体的唯一标示
	  speed = 1;
	  playStat = "play";
	  initMediaPlay(width,height,left,top);
	  mp.setSingleMedia(jsonstr);
	  mp.setNativeUIFlag(0);
	  mp.setMuteUIFlag(1);//xjadd
	  mp.setAllowTrickmodeFlag(0);//允许快进快退操作
	  mp.playFromStart();
	  mp.setVideoDisplayMode(1); 
	  mp.refreshVideoDisplay();
}

//初始化播放实例
function initMediaPlay(width,height,left,top){
    var playListFlag = 0;
    var videoDisplayMode = 0;
    var muteFlag = 0;
    var subtitleFlag = 0;
    var videoAlpha = 0;
    var cycleFlag = 1;//循环播放
    var randomFlag = 0;
    var autoDelFlag = 0;
    var useNativeUIFlag = 1;
    var instanceId = 2;
   //初始化数据
    mp.initMediaPlayer(vas_small_player_id, playListFlag, videoDisplayMode, height, width, left, top, muteFlag, useNativeUIFlag, subtitleFlag, videoAlpha, cycleFlag, randomFlag, autoDelFlag);
}

function initLoad(){
  var url = "http://182.138.48.83:8089/ZTE_EPG/32/999990000007?Authinfo=OO8%2B0al6xT%2Fpm7FukKg%2Blwis2YGr9S1irQC0EprYWVp657jExDyvD6hmL7Nezj9F&version=1&BreakPoint=0&virtualDomain=ZTE_EPG.vod_hpd.zte.com&mtype=mp4";
  playVideo(url,1280,720,1,31);
}



window.onload = function() {
    
    //视频播放
    initLoad();
}

//播放控制逻辑
document.onkeypress = function(keyEvent){
  keyEvent = keyEvent ? keyEvent : window.event;
  var keyvalue = keyEvent.which ? keyEvent.which : keyEvent.keyCode;  
  if (typeof(Utility) != "object" || !"getEvent" in Utility) { 
         return; 
    } 
    var epgdomain = Authentication.CTCGetConfig("EPGDomain" );
  if ( keyvalue == 0x0008 ){  
     history.back();
  }
  else if(keyvalue == 0x0107){
    videoPause();
  }
  else if(keyvalue == 0x0108 || keyvalue == 0x0027){
     videoFast();
  }
  else if(keyvalue == 0x0109 || keyvalue == 0x0025){
    videoBackward();
  }
  else if(keyvalue == 0x0105){
    volMuted();
  }
  else if(keyvalue == 0x0103){
    volUp();
  }
  else if(keyvalue == 0x0104){
    volDown();
  }
  else if(keyvalue == 0x0300){
      // var UtilityEvent = Utility.getEvent();
      // if(UtilityEvent.type=="EVENT_MEDIA_END"){
      //   history.back();
      // }
  }
}

</script>